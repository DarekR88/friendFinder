<!DOCTYPE <!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Friend Finder Survey</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
</head>

<body>
    <div class="container">
        <div class="modal fade" id="matchModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle"
            aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="exampleModalLongTitle">Here is your match!</h5>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <img src="" id="matchImage" width="400">
                        <h3 id="matchName"></h3>
                        <h3 id="matchQuote"></h3>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="jumbotron">
            <h1 class="sTitle"><span class="fas fa-tasks"></span>Survey</h1>
            <h3>Answer a few questions and we'll match you with your most compatible friend!</h3>
        </div>
        <div class="form-group">
            <form name="questions">
                <label for="name">What is your name?</label>
                <input type="text" id="name"><br>
                <label for="quote">If you'd like, add a quote that best describes you.</label>
                <input type="text" id="quote" size="35"><br>
                <label for="url">If you'd like, add the url of a picture of yourself.</label>
                <input type="text" id="url" size="25"><br>
                <p class="question">1. What is your favorite ice cream flavor?</p>
                <input type="radio" name="answer1">Vanilla
                <input type="radio" name="answer1">Chocolate
                <input type="radio" name="answer1">Cookies and Cream
                <input type="radio" name="answer1">Cookie Dough
                <input type="radio" name="answer1">Strawberry
                <p class="checkVal" id="checkOne" style="color: red;"></p>
                <p class="question">2. What are your favorite activities?</p>
                <input type="radio" name="answer2">Watching movies
                <input type="radio" name="answer2">Playing sports
                <input type="radio" name="answer2">Going to the beach
                <input type="radio" name="answer2">Hanging out with friends
                <input type="radio" name="answer2">Playing board games or video games
                <p class="checkVal" id="checkTwo" style="color: red;"></p>
                <p class="question">3. What is your favorite kind of movie?</p>
                <input type="radio" name="answer3">Action
                <input type="radio" name="answer3">Comedy
                <input type="radio" name="answer3">Horror/Thriller
                <input type="radio" name="answer3">Science Fiction
                <input type="radio" name="answer3">Drama
                <p class="checkVal" id="checkThree" style="color: red;"></p>
                <p class="question">4. What is your favorite holiday?</p>
                <input type="radio" name="answer4">Christmas
                <input type="radio" name="answer4">Thanksgiving
                <input type="radio" name="answer4">Valentine's Day
                <input type="radio" name="answer4">Halloween
                <input type="radio" name="answer4">The 4th of July
                <p class="checkVal" id="checkFour" style="color: red;"></p>
                <p class="question">5. Which word would you use to describe yourself?</p>
                <input type="radio" name="answer5">Optimistic
                <input type="radio" name="answer">Pessimistic
                <input type="radio" name="answer5">Outgoing
                <input type="radio" name="answer5">Introverted
                <input type="radio" name="answer5">Bombastic
                <p class="checkVal" id="checkFive" style="color: red;"></p>
                <p class="question">6. What is your favorite kind of food?</p>
                <input type="radio" name="answer6">Burgers
                <input type="radio" name="answer6">Fried Chicken
                <input type="radio" name="answer6">Mexican
                <input type="radio" name="answer6">Asian
                <input type="radio" name="answer6">Italian
                <p class="checkVal" id="checkSix" style="color: red;"></p>
                <p class="question">7. What is your favorite thing to do on a friday night?</p>
                <input type="radio" name="answer7">Go to the bar
                <input type="radio" name="answer7">Go dancing
                <input type="radio" name="answer7">Go to the movies
                <input type="radio" name="answer7">Hang out with friends
                <input type="radio" name="answer7">Play video games
                <p class="checkVal" id="checkSeven" style="color: red;"></p>
                <p class="question">8. What kind of pet would you pick?</p>
                <input type="radio" name="answer8">Dog
                <input type="radio" name="answer8">Cat
                <input type="radio" name="answer8">Bird
                <input type="radio" name="answer8">Fish
                <input type="radio" name="answer8">Rock
                <p class="checkVal" id="checkEight" style="color: red;"></p>
                <p class="question">9. What is your spirit animal?</p>
                <input type="radio" name="answer9">Dolphin
                <input type="radio" name="answer9">Lion
                <input type="radio" name="answer9">Monkey
                <input type="radio" name="answer9">Eagle
                <input type="radio" name="answer9">Mouse
                <p class="checkVal" id="checkNine" style="color: red;"></p>
                <p class="question">10. What would be your adult beverage of choice?</p>
                <input type="radio" name="answer10">Beer
                <input type="radio" name="answer10">Mixed drink
                <input type="radio" name="answer10">Wine
                <input type="radio" name="answer10">Shots
                <input type="radio" name="answer10">Champagne<br>
                <p class="checkVal" id="checkTen" style="color: red;"></p>
                <button tpe="submit" class="btn btn-success" id="surveySub"><span class="fas fa-flag-checkered"
                        data-toggle="modal" data-target="#matchModal"></span> Submit Answers</button>
            </form>
        </div>
    </div>
    <script type="text/javascript">
        var profile = {}
        // variables for the radio manipulation
        var questionOne = document.getElementsByName("answer1")
        var questionTwo = document.getElementsByName("answer2")
        var questionThree = document.getElementsByName("answer3")
        var questionFour = document.getElementsByName("answer4")
        var questionFive = document.getElementsByName("answer5")
        var questionSix = document.getElementsByName("answer6")
        var questionSeven = document.getElementsByName("answer7")
        var questionEight = document.getElementsByName("answer8")
        var questionNine = document.getElementsByName("answer9")
        var questionTen = document.getElementsByName("answer10")
        var answerOne;
        var answerTwo;
        var answerThree;
        var answerFour;
        var answerFive;
        var answerSix;
        var answerSeven;
        var answerEight;
        var answerNine;
        var answerTen;
        var isCheckedOne = false;
        var isCheckedTwo = false;
        var isCheckedThree = false;
        var isCheckedFour = false;
        var isCheckedFive = false;
        var isCheckedSix = false;
        var isCheckedSeven = false;
        var isCheckedEight = false;
        var isCheckedNine = false;
        var isCheckedTen = false;
        //function for validating the radios
        function surveyVal() {
            var a = 0;
            while (!isCheckedOne && a < questionOne.length) {
                if (questionOne[a].checked) {
                    isCheckedOne = true;
                } else {
                    a++
                }
            }
            var b = 0
            while (!isCheckedTwo && b < questionTwo.length) {
                if (questionTwo[b].checked) {
                    isCheckedTwo = true
                } else {
                    b++
                }


            }
            var c = 0
            while (!isCheckedThree && c < questionThree.length) {
                if (questionThree[c].checked) {
                    isCheckedThree = true
                } else {
                    c++
                }
            }
            var d = 0
            while (!isCheckedFour && d < questionFour.length) {
                if (questionFour[d].checked) {
                    isCheckedFour = true
                } else {
                    d++
                }
            }
            var e = 0
            while (!isCheckedFive && e < questionFive.length) {
                if (questionFive[e].checked) {
                    isCheckedFive = true
                } else {
                    e++
                }
            }
            var f = 0
            while (!isCheckedSix && f < questionSix.length) {
                if (questionSix[f].checked) {
                    isCheckedSix = true
                } else {
                    f++
                }
            }
            var g = 0
            while (!isCheckedSeven && g < questionSeven.length) {
                if (questionSeven[g].checked) {
                    isCheckedSeven = true
                } else {
                    g++
                }
            }
            var h = 0
            while (!isCheckedEight && h < questionEight.length) {
                if (questionEight[h].checked) {
                    isCheckedEight = true
                } else {
                    h++
                }
            }
            var i = 0
            while (!isCheckedNine && i < questionNine.length) {
                if (questionNine[i].checked) {
                    isCheckedNine = true
                } else {
                    i++
                }
            }
            var j = 0
            while (!isCheckedTen && j < questionTen.length) {
                if (questionTen[j].checked) {
                    isCheckedTen = true
                } else {
                    j++
                }
            }
            if (isCheckedOne && isCheckedTwo && isCheckedThree && isCheckedFour && isCheckedFive && isCheckedSix && isCheckedSeven && isCheckedEight && isCheckedNine && isCheckedTen) {
                getAnswers()
                $("#matchModal").modal()
                resetRadios()
            } else {
                updateHtml()
            }
        }
        // function for updating the html
        function updateHtml() {
            if (!isCheckedOne) {
                $("#checkOne").html("Please check an answer for this question")
            }
            if (!isCheckedTwo) {
                $("#checkTwo").html("Please check an answer for this question")
            }
            if (!isCheckedThree) {
                $("#checkThree").html("Please check an answer for this question")
            }
            if (!isCheckedFour) {
                $("#checkFour").html("Please check an answer for this question")
            }
            if (!isCheckedFive) {
                $("#checkFive").html("Please check an answer for this question")
            }
            if (!isCheckedSix) {
                $("#checkSix").html("Please check an answer for this question")
            }
            if (!isCheckedSeven) {
                $("#checkSeven").html("Please check an answer for this question")
            }
            if (!isCheckedEight) {
                $("#checkEight").html("Please check an answer for this question")
            }
            if (!isCheckedNine) {
                $("#checkNine").html("Please check an answer for this question")
            }
            if (!isCheckedTen) {
                $("#checkTen").html("Please check an answer for this question")
            }
        }
        // function for reseting the radios
        function resetRadios() {

            for (var i = 0; i < questionOne.length; i++) {
                questionOne[i].checked = false;
            };
            for (var i = 0; i < questionTwo.length; i++) {
                questionTwo[i].checked = false;
            };
            for (var i = 0; i < questionThree.length; i++) {
                questionThree[i].checked = false;
            };
            for (var i = 0; i < questionFour.length; i++) {
                questionFour[i].checked = false;
            };
            for (var i = 0; i < questionFive.length; i++) {
                questionFive[i].checked = false;
            };
            for (var i = 0; i < questionSix.length; i++) {
                questionSix[i].checked = false;
            };
            for (var i = 0; i < questionSeven.length; i++) {
                questionSeven[i].checked = false;
            };
            for (var i = 0; i < questionEight.length; i++) {
                questionEight[i].checked = false;
            };
            for (var i = 0; i < questionNine.length; i++) {
                questionNine[i].checked = false;
            };
            for (var i = 0; i < questionTen.length; i++) {
                questionTen[i].checked = false;
            };
            $("#name").val("")
            $("#quote").val("")
            $("url").val("")
        };
        // function for getting the answer number form the radios
        function getAnswers() {

            for (var i = 0; i < questionOne.length; i++) {
                if (questionOne[i].checked) {
                    answerOne = i += 1
                }
            };
            for (var i = 0; i < questionTwo.length; i++) {
                if (questionTwo[i].checked) {
                    answerTwo = i += 1
                }
            };
            for (var i = 0; i < questionThree.length; i++) {
                if (questionThree[i].checked) {
                    answerThree = i += 1
                }
            };
            for (var i = 0; i < questionFour.length; i++) {
                if (questionFour[i].checked) {
                    answerFour = i += 1
                }
            };
            for (var i = 0; i < questionFive.length; i++) {
                if (questionFive[i].checked) {
                    answerFive = i += 1
                }
            };
            for (var i = 0; i < questionSix.length; i++) {
                if (questionSix[i].checked) {
                    answerSix = i += 1
                }
            };
            for (var i = 0; i < questionSeven.length; i++) {
                if (questionSeven[i].checked) {
                    answerSeven = i += 1
                }
            };
            for (var i = 0; i < questionEight.length; i++) {
                if (questionEight[i].checked) {
                    answerEight = i += 1
                }
            };
            for (var i = 0; i < questionNine.length; i++) {
                if (questionNine[i].checked) {
                    answerNine = i += 1
                }
            };
            for (var i = 0; i < questionTen.length; i++) {
                if (questionTen[i].checked) {
                    answerTen = i += 1
                }
            };

            profile = {
                name: $("#name").val().trim(),
                quote: $("#quote").val().trim(),
                pic: $("#url").val().trim(),
                answers: [
                    answerOne,
                    answerTwo,
                    answerThree,
                    answerFour,
                    answerFive,
                    answerSix,
                    answerSeven,
                    answerEight,
                    answerNine,
                    answerTen
                ]
            }
        };

        $("#surveySub").on("click", function (event) {
            event.preventDefault()
            surveyVal()
            console.log(profile)
            $.post("/api/friendsList", profile, function (data) {
                $("#matchName").text("Name: " + data.name)
                $("#matchQuote").text("Quote: " + data.quote)
                $("#matchImage").attr("src", data.url) 
                $("#matchModal").modal()

            })
        })
    </script>
</body>

</html>